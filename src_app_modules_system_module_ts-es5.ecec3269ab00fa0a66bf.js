!function(){"use strict";function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,i){var a=t(e,n);if(a){var r=Object.getOwnPropertyDescriptor(a,n);return r.get?r.get.call(arguments.length<3?e:i):r.value}}).apply(this,arguments)}function t(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkcism=self.webpackChunkcism||[]).push([["src_app_modules_system_module_ts"],{75573:function(t,a,c){var l;c.r(a),c.d(a,{SystemModule:function(){return bt}});var d=c(38583),p=c(13214),m=c(37716),f=c(45094);function y(e,t){1&e&&m._UZ(0,"div",5)}function v(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.YNc(1,y,1,0,"div",3),m.TgZ(2,"span",4),m.NdJ("click",function(){var e=m.CHM(n),t=e.index,i=e.$implicit;return m.oxw().emitClick(t,i)}),m._uU(3),m.qZA(),m.BQk()}if(2&e){var i=t.$implicit,a=t.index;m.xp6(1),m.Q6J("ngIf",a>0),m.xp6(2),m.Oqu(i)}}var x,b=function(e){return{center:e}},w=["*"],C=((x=function(){function e(){u(this,e),this.titles=new f.X([]),this.click=new f.X(null)}return g(e,[{key:"emitClick",value:function(e,t){e+1!=this.titles.getValue().length&&this.click.next({titles:this.titles.getValue(),indexClicked:e,nameClicked:t})}}]),e}()).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=m.Xpm({type:x,selectors:[["cism-system-graphic-holder"]],ngContentSelectors:w,decls:6,vars:8,consts:[[1,"title",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"content"],["class","breadcrumb",4,"ngIf"],[1,"part",3,"click"],[1,"breadcrumb"]],template:function(e,t){1&e&&(m.F$t(),m.TgZ(0,"div",0),m.ALo(1,"async"),m.YNc(2,v,4,2,"ng-container",1),m.ALo(3,"async"),m.qZA(),m.TgZ(4,"div",2),m.Hsn(5),m.qZA()),2&e&&(m.Q6J("ngClass",m.VKq(6,b,m.lcZ(1,2,t.titles).length>2)),m.xp6(2),m.Q6J("ngForOf",m.lcZ(3,4,t.titles)))},directives:[d.mk,d.sg,d.O5],pipes:[d.Ov],styles:["[_nghost-%COMP%]{-ms-flex:1 100%;flex:1 100%;width:100%;max-width:100%;padding:20px 20px 30px;box-sizing:border-box;min-height:350px;position:relative;font-size:1.3rem}@media (min-width: 600px){[_nghost-%COMP%]{padding:30px 30px 35px}}@-webkit-keyframes slideIn{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes slideIn{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}.title[_ngcontent-%COMP%]{color:rgba(255,255,255,.7);font-size:1.6rem;margin-bottom:35px;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.title.align[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]{-ms-flex:1 1 0px;flex:1 1 0px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;-webkit-animation:slideIn .3s ease-in-out;animation:slideIn .3s ease-in-out}@media (min-width: 600px){.title[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]{-ms-flex:initial!important;flex:initial!important}}.title[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]:not(:last-child){cursor:pointer}.title[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]:not(:last-child):hover{color:#ef3340}.title[_ngcontent-%COMP%]   .part[_ngcontent-%COMP%]:not(:last-child):hover + .breadcrumb[_ngcontent-%COMP%]{-ms-transform:rotate(180deg);transform:rotate(180deg)}.title[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{-ms-flex:0 30px;flex:0 30px;margin:0 20px;background-image:url(assets/img/arrow-right.svg);background-size:contain;background-repeat:no-repeat;background-position:center;opacity:.5;transform:rotateX(180deg);transition:transform .3s ease-in-out;-ms-transform-origin:50% 50%;transform-origin:50% 50%;perspective:50px}"],changeDetection:0}),x),_=c(64762),M=c(47526),k=c(61172),S=c(20207),A=c(94513),O=c(43463);function Z(e,t){(0,O.Z)(2,arguments);var n=(0,A.Z)(e),i=(0,S.Z)(t);return isNaN(i)?new Date(NaN):(i&&n.setDate(n.getDate()+i),n)}function P(e,t){(0,O.Z)(2,arguments);var n=(0,S.Z)(t),i=7*n;return Z(e,i)}function T(e,t){(0,O.Z)(1,arguments);var n=t||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,r=null==a?0:(0,S.Z)(a),o=null==n.weekStartsOn?r:(0,S.Z)(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=(0,A.Z)(e),c=s.getDay(),l=(c<o?7:0)+c-o;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function D(e,t){var n,i;(0,O.Z)(1,arguments);var a=(0,A.Z)(e),r=a.getFullYear(),o=null==t||null===(n=t.locale)||void 0===n||null===(i=n.options)||void 0===i?void 0:i.firstWeekContainsDate,s=null==o?1:(0,S.Z)(o),c=null==(null==t?void 0:t.firstWeekContainsDate)?s:(0,S.Z)(t.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setFullYear(r+1,0,c),l.setHours(0,0,0,0);var h=T(l,t),u=new Date(0);u.setFullYear(r,0,c),u.setHours(0,0,0,0);var d=T(u,t);return a.getTime()>=h.getTime()?r+1:a.getTime()>=d.getTime()?r:r-1}function L(e,t){(0,O.Z)(1,arguments);var n=t||{},i=n.locale,a=i&&i.options&&i.options.firstWeekContainsDate,r=null==a?1:(0,S.Z)(a),o=null==n.firstWeekContainsDate?r:(0,S.Z)(n.firstWeekContainsDate),s=D(e,t),c=new Date(0);c.setFullYear(s,0,o),c.setHours(0,0,0,0);var l=T(c,t);return l}var F=6048e5;function W(e,t){(0,O.Z)(1,arguments);var n=(0,A.Z)(e),i=T(n,t).getTime()-L(n,t).getTime();return Math.round(i/F)+1}var E=c(83902);function Y(e){(0,O.Z)(1,arguments);var t=(0,A.Z)(e),n=t.getMonth();return n}var z=c(30043),J=c(48396),N=c(872),q=c(8202),R=c(98295),j=c(67441),X=c(72458),B=c(36729),H=function(e){return{enable:e}},I=["*"],G=function(){var e=function(){function e(t){u(this,e),this._element=t,this.subs=new M.Y,this.bars=new f.X(0),this.enable=new f.X(!1),this.barsWidth=new f.X(25)}return g(e,[{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.subs.sink=this.bars.pipe((0,B.a)(this.barsWidth)).subscribe(function(t){return e.resize()})}},{key:"resize",value:function(){var e=this._element.nativeElement.querySelector(".scrollable").offsetWidth;this.enable.next(e+5<=this.bars.getValue()*this.barsWidth.getValue()+50)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.SBq))},e.\u0275cmp=m.Xpm({type:e,selectors:[["cism-system-scroller"]],hostBindings:function(e,t){1&e&&m.NdJ("resize",function(){return t.resize()},!1,m.Jf7)},ngContentSelectors:I,decls:7,vars:13,consts:[[1,"scrollable",3,"ngClass"],[1,"content"]],template:function(e,t){1&e&&(m.F$t(),m.TgZ(0,"div",0),m.ALo(1,"async"),m.TgZ(2,"div",1),m.ALo(3,"async"),m.ALo(4,"async"),m.ALo(5,"async"),m.Hsn(6),m.qZA(),m.qZA()),2&e&&(m.Q6J("ngClass",m.VKq(11,H,m.lcZ(1,3,t.enable))),m.xp6(2),m.Udp("width",m.lcZ(3,5,t.enable)?m.lcZ(4,7,t.bars)*m.lcZ(5,9,t.barsWidth)+50:null,"px"))},directives:[d.mk],pipes:[d.Ov],styles:["[_nghost-%COMP%]{display:block;height:200px}.scrollable[_ngcontent-%COMP%]{height:100%}.scrollable.enable[_ngcontent-%COMP%]{overflow-y:hidden;scroll-behavior:smooth;height:auto;height:initial}.scrollable.enable[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-bottom:20px}.scrollable.enable[_ngcontent-%COMP%]  cism-system-availability-chart{height:200px!important}.content[_ngcontent-%COMP%]{height:100%}"],changeDetection:0}),e}();function Q(e){(0,O.Z)(1,arguments);var t=(0,A.Z)(e),n=t.getFullYear();return n}function U(e,t,n){(0,O.Z)(2,arguments);var i=(0,A.Z)(e),a=(0,S.Z)(t),r=W(i,n)-a;return i.setDate(i.getDate()-7*r),i}var $={lessThanXSeconds:{standalone:{one:"weniger als eine Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als einer Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"eine Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"einer Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als eine Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als einer Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"eine Minute",other:"{{count}} Minuten"},withPreposition:{one:"einer Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa eine Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa einer Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"eine Stunde",other:"{{count}} Stunden"},withPreposition:{one:"einer Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"ein Tag",other:"{{count}} Tage"},withPreposition:{one:"einem Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa ein Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa einem Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"ein Woche",other:"{{count}} Wochen"},withPreposition:{one:"einem Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa ein Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa einem Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"ein Monat",other:"{{count}} Monate"},withPreposition:{one:"einem Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa ein Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa einem Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"ein Jahr",other:"{{count}} Jahre"},withPreposition:{one:"einem Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als ein Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als einem Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast ein Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast einem Jahr",other:"fast {{count}} Jahren"}}},V=c(72496),K={date:(0,V.Z)({formats:{full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM. y",short:"dd.MM.y"},defaultWidth:"full"}),time:(0,V.Z)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,V.Z)({formats:{full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},ee={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},te=c(88684),ne={ordinalNumber:function(e,t){return Number(e)+"."},era:(0,te.Z)({values:{narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},defaultWidth:"wide"}),quarter:(0,te.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,te.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},defaultWidth:"wide"}),day:(0,te.Z)({values:{narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},defaultWidth:"wide"}),dayPeriod:(0,te.Z)({values:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},defaultWidth:"wide",formattingValues:{narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},defaultFormattingWidth:"wide"})},ie=c(77154),ae=c(55666),re={code:"de",formatDistance:function(e,t,n){var i,a=(n=n||{}).addSuffix?$[e].withPreposition:$[e].standalone;return i="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+i:"vor "+i:i},formatLong:K,formatRelative:function(e,t,n,i){return ee[e]},localize:ne,match:{ordinalNumber:(0,ie.Z)({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,ae.Z)({matchPatterns:{narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^v/i,/^n/i]},defaultParseWidth:"any"}),quarter:(0,ae.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,ae.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|m\xe4r|apr|mai|jun|jul|aug|sep|okt|nov|dez)/i,wide:/^(januar|februar|m\xe4rz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^m\xe4r/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,ae.Z)({matchPatterns:{narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,ae.Z)({matchPatterns:{narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},oe=c(10386),se=function(){var e=function(){function e(t,n,i){var a=this;u(this,e),this._tools=t,this._store=n,this._scroller=i,this.minScale=new f.X(0),this.yAxisTicks=new f.X([]),this.chartData=new f.X([]),this.data=[],this.colorScheme={domain:["#00bcd4"]},this.yAxisFormatting=function(e){switch(a.type){case"daily":return"".concat(e," %");case"monthly":case"weekly":return"AVG ".concat(e," %")}},this.xAxisFormatting=function(e){var t=(0,E.Z)(e,a.config.system.S2.formatDate,new Date);switch(a.type){case"daily":return e;case"monthly":return(0,k.Z)(t,"MMM yyyy",{locale:re});case"weekly":return(0,k.Z)(t,"dd/MM/yyyy",{locale:re})}},this.config=this._store.selectSnapshot(function(e){return e.config})}return g(e,[{key:"ngOnInit",value:function(){var e=this,t=[];switch(this.type){case"daily":t=this.data.map(function(e){var t=(0,E.Z)(e[1],"yyyy-MM-dd",new Date);return{name:t=(0,k.Z)(t,"dd/MM/yyyy"),value:Math.round(100*e[2])/100}});break;case"weekly":case"monthly":var n="weekly"==this.type?this.config.system.S2.formatDate:"dd/MM/yyyy",i=this.data.reduce(function(t,n){var i=(0,E.Z)(n[1],"yyyy-MM-dd",new Date);return t[i="weekly"==e.type?"".concat(Q(i)).concat(W(i)):(0,k.Z)(i,"yyyyMM")]=t[i]||[],t[i].push(n),t},{});t=Object.keys(i).map(function(t){var a;return"weekly"==e.type?(a=T(a=U(a=(0,E.Z)(t.substr(0,4),"yyyy",new Date),+t.substr(4,2))),a=(0,k.Z)(a,n)):(a=(0,E.Z)(t,"yyyyMM",new Date),a=(0,k.Z)(a,n)),{name:a,value:e._tools.averageByIndex(i[t],2,!0),min:e._tools.getMin(i[t],2,!0),max:e._tools.getMax(i[t],2,!0)}})}t.length>this.config.system.unitsPast&&(t=t.slice(Math.max(t.length-this.config.system.unitsPast,1)));var a=Math.round(this._tools.getMin(this.data,2));a>5&&(a-=5),this.minScale.next(a),this.yAxisTicks.next([a,100]),this._scroller.bars.next(t.length),this.chartData.next([{name:"System Availability",series:t}])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(M.G),m.Y36(J.yh),m.Y36(G,1))},e.\u0275cmp=m.Xpm({type:e,selectors:[["cism-system-availability-chart"]],inputs:{data:"data",type:"type"},decls:4,vars:20,consts:[[3,"results","gradient","xAxis","yAxis","legend","schemeType","showGridLines","showXAxisLabel","showYAxisLabel","yAxisTicks","yScaleMin","yAxisTickFormatting","xAxisTickFormatting","scheme"]],template:function(e,t){1&e&&(m._UZ(0,"ngx-charts-line-chart",0),m.ALo(1,"async"),m.ALo(2,"async"),m.ALo(3,"async")),2&e&&m.Q6J("results",m.lcZ(1,14,t.chartData))("gradient",!0)("xAxis",!0)("yAxis",!0)("legend",!1)("schemeType","ordinal")("showGridLines",!1)("showXAxisLabel",!1)("showYAxisLabel",!1)("yAxisTicks",m.lcZ(2,16,t.yAxisTicks))("yScaleMin",m.lcZ(3,18,t.minScale))("yAxisTickFormatting",t.yAxisFormatting)("xAxisTickFormatting",t.xAxisFormatting)("scheme",t.colorScheme)},directives:[oe.Dw],pipes:[d.Ov],styles:["[_nghost-%COMP%]{display:block;height:225px;padding-top:5px;box-sizing:border-box}[_nghost-%COMP%]  .ngx-charts .line-highlight{display:block!important}[_nghost-%COMP%]  .ngx-charts .tick text{fill:rgba(255,255,255,.5)!important}"],changeDetection:0}),e}(),ce=c(11436);function le(e,t){if(1&e&&(m.TgZ(0,"cism-system-scroller"),m._UZ(1,"cism-system-availability-chart",9),m.ALo(2,"async"),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("data",m.lcZ(2,1,n.SystemAvailabilityRows))}}function he(e,t){if(1&e&&(m.TgZ(0,"cism-system-scroller"),m._UZ(1,"cism-system-availability-chart",10),m.ALo(2,"async"),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("data",m.lcZ(2,1,n.SystemAvailabilityRows))}}function ue(e,t){if(1&e&&(m.TgZ(0,"cism-system-scroller"),m._UZ(1,"cism-system-availability-chart",11),m.ALo(2,"async"),m.qZA()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("data",m.lcZ(2,1,n.SystemAvailabilityRows))}}function de(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",13),m.TgZ(1,"div",14),m._UZ(2,"div",15),m._UZ(3,"div",16),m._UZ(4,"div",17),m.qZA(),m.TgZ(5,"div",18),m.TgZ(6,"div",19),m.TgZ(7,"div",20),m._uU(8,"Today"),m.qZA(),m.TgZ(9,"div",21),m._uU(10),m.qZA(),m.qZA(),m.TgZ(11,"div",22),m.TgZ(12,"div",23),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).view.next("daily")}),m.TgZ(13,"div",24),m._uU(14,"Prev. Day"),m.qZA(),m.TgZ(15,"div",25),m._uU(16,"Pr. Day"),m.qZA(),m.TgZ(17,"div",21),m._uU(18),m.qZA(),m.TgZ(19,"div",26),m._UZ(20,"div",27),m.qZA(),m.qZA(),m.TgZ(21,"div",23),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).view.next("weekly")}),m.TgZ(22,"div",24),m._uU(23,"Prev. Week"),m.qZA(),m.TgZ(24,"div",25),m._uU(25,"Pr. Week"),m.qZA(),m.TgZ(26,"div",21),m._uU(27),m.qZA(),m.TgZ(28,"div",26),m._UZ(29,"div",27),m.qZA(),m.qZA(),m.TgZ(30,"div",23),m.NdJ("click",function(){return m.CHM(n),m.oxw(2).view.next("monthly")}),m.TgZ(31,"div",24),m._uU(32,"Prev. Month"),m.qZA(),m.TgZ(33,"div",25),m._uU(34,"Pr. Month"),m.qZA(),m.TgZ(35,"div",21),m._uU(36),m.qZA(),m.TgZ(37,"div",26),m._UZ(38,"div",27),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=t.ngIf;m.xp6(2),m.ekj("active",i.today<98),m.xp6(1),m.ekj("active",i.today>98&&i.today<99),m.xp6(1),m.ekj("active",i.today>99),m.xp6(6),m.hij("",i.today," %"),m.xp6(8),m.hij("",i.yesterday," %"),m.xp6(2),m.Q6J("ngClass",i.yesterday_up),m.xp6(7),m.hij("",i.prev_week," %"),m.xp6(2),m.Q6J("ngClass",i.week_up),m.xp6(7),m.hij("",i.prev_month," %"),m.xp6(2),m.Q6J("ngClass",i.month_up)}}function ge(e,t){if(1&e&&(m.ynx(0),m.YNc(1,de,39,13,"div",12),m.ALo(2,"async"),m.BQk()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngIf",m.lcZ(2,1,n.percents))}}var pe=function(){function e(t,n,i){var a=this;u(this,e),this._store=t,this._tools=n,this._holder=i,this.ngOnDestroy=function(){return a.subs.unsubscribe()},this.subs=new M.Y,this.percents=new f.X(null),this.SystemAvailabilityRows=new f.X([]),this.view=new f.X("overview"),this.config=this._store.selectSnapshot(function(e){return e.config}),this._holder.titles.next([this.config.system.titles.S1])}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.subs.sink=this.tickets$.subscribe(function(t){var n=0;try{var i=(0,k.Z)(new Date,e.config.system.S1.formatDate);n=e._tools.formatPercent(t.filter(function(e){return e[1]==i})[0][2])}catch(i){console.log("======================================================="),console.log("System Availability","Processing","Percent not found for today. Check you system report!!!"),console.log("=======================================================")}var a=0;try{var r=function(e,t){(0,O.Z)(2,arguments);var n=(0,S.Z)(t);return Z(e,-n)}(new Date,1);r=(0,k.Z)(r,e.config.system.S1.formatDate),a=e._tools.formatPercent(t.filter(function(e){return e[1]==r})[0][2])}catch(i){console.log("======================================================="),console.log("System Availability","Processing","Percent not found for yesterday. Check you system report!!!"),console.log("=======================================================")}var o=0;try{var s=function(e,t){(0,O.Z)(2,arguments);var n=(0,S.Z)(t);return P(e,-n)}(new Date,1);s=W(s);var c=t.filter(function(t){return W((0,E.Z)(t[1],e.config.system.S1.formatDate,new Date))==s}),l=c.map(function(e){return e[2]}).reduce(function(e,t){return e+t},0);o=e._tools.formatPercent(l/c.length)}catch(i){console.log("======================================================="),console.log("System Availability","Processing","Percent not found for previous week. Check you system report!!!"),console.log("=======================================================")}var h=0;try{var u=W(new Date),d=t.filter(function(t){var n=(0,E.Z)(t[1],e.config.system.S1.formatDate,new Date);return(n=W(n))==u}),g=d.map(function(e){return e[2]}).reduce(function(e,t){return e+t},0);h=e._tools.formatPercent(g/d.length)}catch(i){console.log("======================================================="),console.log("System Availability","Processing","Percent not found for actual week. Check you system report!!!"),console.log("=======================================================")}var p=0;try{var m=Y((0,z.Z)(new Date,1)),f=t.filter(function(t){var n=(0,E.Z)(t[1],e.config.system.S1.formatDate,new Date);return(n=Y(n))==m}),y=f.map(function(e){return e[2]}).reduce(function(e,t){return e+t},0);p=e._tools.formatPercent(y/f.length)}catch(i){console.log("======================================================="),console.log("System Availability","Processing","Percent not found for previous month. Check you system report!!!"),console.log("=======================================================")}var v=0;try{var x=Y(new Date),b=t.filter(function(t){var n=(0,E.Z)(t[1],e.config.system.S1.formatDate,new Date);return(n=Y(n))==x}),w=b.map(function(e){return e[2]}).reduce(function(e,t){return e+t},0);v=e._tools.formatPercent(w/b.length)}catch(i){console.log("======================================================="),console.log("System Availability","Processing","Percent not found for actual month. Check you system report!!!"),console.log("=======================================================")}var C={rows:t,today:n,yesterday:a,prev_week:o,prev_month:p,yesterday_up:n>a?"up":"down",week_up:h>o?"up":"down",month_up:v>p?"up":"down"};e.percents.next(C),e.SystemAvailabilityRows.next(C.rows)})}}]),e}();pe.\u0275fac=function(e){return new(e||pe)(m.Y36(J.yh),m.Y36(M.G),m.Y36(C,1))},pe.\u0275cmp=m.Xpm({type:pe,selectors:[["cism-system-availability"]],decls:17,vars:9,consts:[["appearance","outline",1,"view-selector"],[3,"value","selectionChange"],["value","overview","selected",""],["value","daily"],["value","weekly"],["value","monthly"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["type","daily",3,"data"],["type","weekly",3,"data"],["type","monthly",3,"data"],["class","overview-container",4,"ngIf"],[1,"overview-container"],[1,"semaphore"],[1,"status","bad"],[1,"status","medium"],[1,"status","good"],[1,"chart"],[1,"today"],[1,"header"],[1,"percent"],[1,"rest"],["matTooltip","View details","matTooltipPosition","below",1,"unit",3,"click"],[1,"header","show-on-portrait-up"],[1,"header","show-on-mobile"],[1,"difference"],[1,"difference-sign",3,"ngClass"]],template:function(e,t){1&e&&(m.TgZ(0,"mat-form-field",0),m.TgZ(1,"mat-select",1),m.NdJ("selectionChange",function(e){return t.view.next(e.value)}),m.ALo(2,"async"),m.TgZ(3,"mat-option",2),m._uU(4,"Overview"),m.qZA(),m.TgZ(5,"mat-option",3),m._uU(6,"Daily"),m.qZA(),m.TgZ(7,"mat-option",4),m._uU(8,"Weekly"),m.qZA(),m.TgZ(9,"mat-option",5),m._uU(10,"Monthly"),m.qZA(),m.qZA(),m.qZA(),m.ynx(11,6),m.ALo(12,"async"),m.YNc(13,le,3,3,"cism-system-scroller",7),m.YNc(14,he,3,3,"cism-system-scroller",7),m.YNc(15,ue,3,3,"cism-system-scroller",7),m.YNc(16,ge,3,3,"ng-container",8),m.BQk()),2&e&&(m.xp6(1),m.Q6J("value",m.lcZ(2,5,t.view)),m.xp6(10),m.Q6J("ngSwitch",m.lcZ(12,7,t.view)),m.xp6(2),m.Q6J("ngSwitchCase","daily"),m.xp6(1),m.Q6J("ngSwitchCase","weekly"),m.xp6(1),m.Q6J("ngSwitchCase","monthly"))},directives:[R.KE,j.gD,X.ey,d.RF,d.n9,d.ED,G,se,d.O5,ce.gM,d.mk],pipes:[d.Ov],styles:["[_nghost-%COMP%]{display:block}.overview-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;height:225px;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:600px;margin:0 auto;-ms-flex-align:center;align-items:center}@media (min-width: 600px){.overview-container[_ngcontent-%COMP%]{-ms-flex-wrap:nowrap;flex-wrap:nowrap}}.mat-form-field[_ngcontent-%COMP%]{position:absolute;top:8px;right:20px}@media (min-width: 600px){.mat-form-field[_ngcontent-%COMP%]{top:15px}}[_nghost-%COMP%]  .mat-form-field-infix{border-top:0!important}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-select-arrow-wrapper{-ms-transform:unset!important;transform:unset!important}[_nghost-%COMP%]  .mat-form-field{width:130px}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline{color:rgba(255,255,255,.1)!important}[_nghost-%COMP%]  .mat-form-field .mat-select-arrow{color:rgba(255,255,255,.1)!important}[_nghost-%COMP%]  .mat-form-field .mat-select-value-text span{color:rgba(255,255,255,.6)!important}.semaphore[_ngcontent-%COMP%]{-ms-flex:1 100%;flex:1 100%;max-width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;margin-top:10px;height:80px}@media (min-width: 600px){.semaphore[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex:0 100px;flex:0 100px;height:200px;margin-top:0}}.semaphore[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{height:50px;width:50px;margin:0 auto;border-radius:50%;opacity:.2}.semaphore[_ngcontent-%COMP%]   .status.active[_ngcontent-%COMP%]{opacity:1}.semaphore[_ngcontent-%COMP%]   .status.bad[_ngcontent-%COMP%]{background-color:#e53935}.semaphore[_ngcontent-%COMP%]   .status.bad.active[_ngcontent-%COMP%]{box-shadow:0 0 20px #e53935}.semaphore[_ngcontent-%COMP%]   .status.medium[_ngcontent-%COMP%]{background-color:#ffca28}.semaphore[_ngcontent-%COMP%]   .status.medium.active[_ngcontent-%COMP%]{box-shadow:0 0 20px #ffca28}.semaphore[_ngcontent-%COMP%]   .status.good[_ngcontent-%COMP%]{background-color:#4caf50}.semaphore[_ngcontent-%COMP%]   .status.good.active[_ngcontent-%COMP%]{box-shadow:0 0 20px #4caf50}.chart[_ngcontent-%COMP%]{-ms-flex:1 100%;flex:1 100%;max-width:100%;display:-ms-flexbox;display:flex;height:120px}@media (min-width: 600px){.chart[_ngcontent-%COMP%]{-ms-flex:0 400px;flex:0 400px;height:150px}}.chart[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{-ms-flex:0 30%;flex:0 30%;max-width:30%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;text-align:center;margin-right:15px;padding:7px;box-sizing:border-box}.chart[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{-ms-flex:0 50px;flex:0 50px;font-size:1.2rem;color:#ef3340;white-space:nowrap;font-weight:bold}@media (min-width: 600px){.chart[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:1.5rem}}.chart[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{-ms-flex:1;flex:1;font-size:1.8rem;white-space:nowrap}@media (min-width: 600px){.chart[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:2.5rem}}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-direction:column;flex-direction:column;padding:10px;box-sizing:border-box;border-radius:3px;cursor:pointer}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.03)}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#ef3340;white-space:nowrap;font-weight:bold}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{white-space:nowrap}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-ms-flex:1;flex:1;position:relative;text-align:center}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   .difference-sign[_ngcontent-%COMP%]{position:absolute;margin:auto;top:0;bottom:0;left:0;right:0;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   .difference-sign.down[_ngcontent-%COMP%]{border-top:14px solid #E53935}.chart[_ngcontent-%COMP%]   .rest[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]   .difference-sign.up[_ngcontent-%COMP%]{border-bottom:14px solid #4CAF50}@media (max-width: 599px){.show-on-portrait-up[_ngcontent-%COMP%]{display:none}}@media (min-width: 600px){.show-on-mobile[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),(0,_.gn)([(0,J.Ph)(q.gH.Section1),(0,_.w6)("design:type",N.y)],pe.prototype,"tickets$",void 0);var me=c(52468),fe=c(23246),ye=c(74703),ve=c(94722),xe=function(){function e(t,n,i,a){var r=this;u(this,e),this._data=t,this._tools=n,this._store=i,this._scroller=a,this.subs=new M.Y,this.ngOnDestroy=function(){return r.subs.unsubscribe()},this.data=new f.X([]),this.xAxisFormatting=function(e){var t;switch(r.type){case"daily":return t=(0,E.Z)(e,"yyyy'M'MM'D'dd",new Date),(0,k.Z)(t,"dd'/'MM'/'yyyy");case"monthly":return(0,k.Z)((0,E.Z)(e,"yyyy'M'MM",new Date),"MMM yyyy");case"weekly":var n=+e.substr(0,4),i=+e.substr(4,2);return t=U(t=function(e,t){(0,O.Z)(2,arguments);var n=(0,A.Z)(e),i=(0,S.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(i),n)}(new Date,n),i),(0,k.Z)(t,"dd'/'MM'/'yyyy")}},this.colorScheme={domain:this._store.selectSnapshot(ve.ZP.getColorScheme).map(function(e){return e.color})}}return g(e,[{key:"ngOnChanges",value:function(){var e=this;this.subs.sink=this.tickets$.pipe((0,ye.b)(200)).subscribe(function(t){var n={},i={monthly:"yyyy'M'MM",daily:"yyyy'M'MM'D'dd"};n=e._tools.primitiveReduce(t.ticketsReduced,function(t,n){var a,r=(0,E.Z)(n[0],"dd.MM.yyyy HH:mm",new Date);return(0,fe.Z)(r)?(t[a="weekly"==e.type?"".concat(Q(r)).concat(W(r)):(0,k.Z)(r,i[e.type])]=t[a]||[],t[a].push(n),t):t},{});var a=Object.keys(n);a.sort(function(t,n){var a,r;return"weekly"==e.type?(a=U((0,E.Z)(t.substr(0,4),"yyyy",new Date),+t.substr(4,2)),r=U((0,E.Z)(n.substr(0,4),"yyyy",new Date),+n.substr(4,2))):(a=(0,E.Z)(t,i[e.type],new Date),r=(0,E.Z)(n,i[e.type],new Date)),a.valueOf()-r.valueOf()});var r=a.map(function(t){for(var i in n[t]=e._tools.classifyByIndex(n[t],1),n[t])n[t][i]=n[t][i].length;return{name:t,series:Object.keys(n[t]).map(function(e){return{name:e,value:n[t][e]}})}}),o=e._store.selectSnapshot(function(e){return e.config});r=r.slice(Math.max(r.length-o.system.unitsPast,1)),e._scroller.bars.next(r.length),e.data.next(r)})}}]),e}();xe.\u0275fac=function(e){return new(e||xe)(m.Y36(me.D),m.Y36(M.G),m.Y36(J.yh),m.Y36(G,1))},xe.\u0275cmp=m.Xpm({type:xe,selectors:[["cism-system-robustness-chart"]],inputs:{type:"type"},features:[m.TTD],decls:2,vars:12,consts:[[3,"results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","scheme","xAxisTickFormatting","showGridLines"]],template:function(e,t){1&e&&(m._UZ(0,"ngx-charts-bar-vertical-stacked",0),m.ALo(1,"async")),2&e&&m.Q6J("results",m.lcZ(1,10,t.data))("gradient",!1)("xAxis",!0)("yAxis",!0)("legend",!1)("showXAxisLabel",!1)("showYAxisLabel",!1)("scheme",t.colorScheme)("xAxisTickFormatting",t.xAxisFormatting)("showGridLines",!1)},directives:[oe.XK],pipes:[d.Ov],styles:["[_nghost-%COMP%]{display:block;height:230px;padding:20px 5px 0;box-sizing:border-box}[_nghost-%COMP%]  .ngx-charts .tick text{fill:rgba(255,255,255,.5)!important}"],changeDetection:0}),(0,_.gn)([(0,J.Ph)(q.gH),(0,_.w6)("design:type",N.y)],xe.prototype,"tickets$",void 0);var be=function(){var e=g(function e(t,n){u(this,e),this._holder=t,this._store=n,this.view=new f.X("monthly"),this.config=this._store.selectSnapshot(function(e){return e.config}),this._holder.titles.next([this.config.system.titles.S2])});return e.\u0275fac=function(t){return new(t||e)(m.Y36(C,1),m.Y36(J.yh))},e.\u0275cmp=m.Xpm({type:e,selectors:[["cism-system-robustness"]],decls:12,vars:6,consts:[["appearance","outline",1,"view-selector"],[3,"value","selectionChange"],["value","daily"],["value","weekly"],["value","monthly","selected",""],[3,"type"]],template:function(e,t){1&e&&(m.TgZ(0,"mat-form-field",0),m.TgZ(1,"mat-select",1),m.NdJ("selectionChange",function(e){return t.view.next(e.value)}),m.ALo(2,"async"),m.TgZ(3,"mat-option",2),m._uU(4,"Daily"),m.qZA(),m.TgZ(5,"mat-option",3),m._uU(6,"Weekly"),m.qZA(),m.TgZ(7,"mat-option",4),m._uU(8,"Monthly"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(9,"cism-system-scroller"),m._UZ(10,"cism-system-robustness-chart",5),m.ALo(11,"async"),m.qZA()),2&e&&(m.xp6(1),m.Q6J("value",m.lcZ(2,2,t.view)),m.xp6(9),m.Q6J("type",m.lcZ(11,4,t.view)))},directives:[R.KE,j.gD,X.ey,G,xe],pipes:[d.Ov],styles:[".mat-form-field[_ngcontent-%COMP%]{position:absolute;top:8px;right:20px}@media (min-width: 600px){.mat-form-field[_ngcontent-%COMP%]{top:15px}}[_nghost-%COMP%]  .mat-form-field-infix{border-top:0!important}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-select-arrow-wrapper{-ms-transform:unset!important;transform:unset!important}[_nghost-%COMP%]  .mat-form-field{width:130px}[_nghost-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline{color:rgba(255,255,255,.1)!important}[_nghost-%COMP%]  .mat-form-field .mat-select-arrow{color:rgba(255,255,255,.1)!important}[_nghost-%COMP%]  .mat-form-field .mat-select-value-text span{color:rgba(255,255,255,.6)!important}"],changeDetection:0}),e}(),we=c(76889),Ce=c(41964),_e=c(49681),Me=c(71598),ke=c(96937),Se=c(83864),Ae=c(5207),Oe=c(37540),Ze=["*"],Pe=function(){return(e=Pe||(Pe={})).AnnotationChart="AnnotationChart",e.AreaChart="AreaChart",e.Bar="Bar",e.BarChart="BarChart",e.BubbleChart="BubbleChart",e.Calendar="Calendar",e.CandlestickChart="CandlestickChart",e.ColumnChart="ColumnChart",e.ComboChart="ComboChart",e.PieChart="PieChart",e.Gantt="Gantt",e.Gauge="Gauge",e.GeoChart="GeoChart",e.Histogram="Histogram",e.Line="Line",e.LineChart="LineChart",e.Map="Map",e.OrgChart="OrgChart",e.Sankey="Sankey",e.Scatter="Scatter",e.ScatterChart="ScatterChart",e.SteppedAreaChart="SteppedAreaChart",e.Table="Table",e.Timeline="Timeline",e.TreeMap="TreeMap",e.WordTree="wordtree",Pe;var e}(),Te=(h(l={},Pe.AnnotationChart,"annotationchart"),h(l,Pe.AreaChart,"corechart"),h(l,Pe.Bar,"bar"),h(l,Pe.BarChart,"corechart"),h(l,Pe.BubbleChart,"corechart"),h(l,Pe.Calendar,"calendar"),h(l,Pe.CandlestickChart,"corechart"),h(l,Pe.ColumnChart,"corechart"),h(l,Pe.ComboChart,"corechart"),h(l,Pe.PieChart,"corechart"),h(l,Pe.Gantt,"gantt"),h(l,Pe.Gauge,"gauge"),h(l,Pe.GeoChart,"geochart"),h(l,Pe.Histogram,"corechart"),h(l,Pe.Line,"line"),h(l,Pe.LineChart,"corechart"),h(l,Pe.Map,"map"),h(l,Pe.OrgChart,"orgchart"),h(l,Pe.Sankey,"sankey"),h(l,Pe.Scatter,"scatter"),h(l,Pe.ScatterChart,"corechart"),h(l,Pe.SteppedAreaChart,"corechart"),h(l,Pe.Table,"table"),h(l,Pe.Timeline,"timeline"),h(l,Pe.TreeMap,"treemap"),h(l,Pe.WordTree,"wordtree"),l),De=new m.OlP("GOOGLE_CHARTS_CONFIG"),Le=new m.OlP("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:function(){var e=(0,m.f3M)(De,m.XFs.Optional);return(0,Ce.of)(Object.assign(Object.assign({},{version:"current",safeMode:!1}),e||{}))}}),Fe=function(){var e=function(){function e(t,n,i){u(this,e),this.zone=t,this.localeId=n,this.config$=i,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new we.x}return g(e,[{key:"isGoogleChartsAvailable",value:function(){return!("undefined"==typeof google||void 0===google.charts)}},{key:"loadChartPackages",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.loadGoogleCharts().pipe((0,Se.z)(function(){return e.config$}),(0,Ae.U)(function(e){return Object.assign(Object.assign({},{version:"current",safeMode:!1}),e||{})}),(0,Oe.w)(function(t){return new N.y(function(i){google.charts.load(t.version,{packages:n,language:e.localeId,mapsApiKey:t.mapsApiKey,safeMode:t.safeMode}),google.charts.setOnLoadCallback(function(){e.zone.run(function(){i.next(),i.complete()})})})}))}},{key:"loadGoogleCharts",value:function(){var e=this;if(this.isGoogleChartsAvailable())return(0,Ce.of)(null);if(!this.isLoadingGoogleCharts()){var t=this.createGoogleChartsScript();t.onload=function(){e.zone.run(function(){e.scriptLoadSubject.next(),e.scriptLoadSubject.complete()})},t.onerror=function(){e.zone.run(function(){console.error("Failed to load the google charts script!"),e.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}},{key:"isLoadingGoogleCharts",value:function(){return null!=this.getGoogleChartsScript()}},{key:"getGoogleChartsScript",value:function(){var e=this;return Array.from(document.getElementsByTagName("script")).find(function(t){return t.src===e.scriptSource})}},{key:"createGoogleChartsScript",value:function(){var e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.LFG(m.R0b),m.LFG(m.soG),m.LFG(Le))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac}),e}(),We=function(){var e=function(){function e(){u(this,e)}return g(e,[{key:"create",value:function(e,t,n){if(null!=e){var i=!0;null!=t&&(i=!1);var a=google.visualization.arrayToDataTable(this.getDataAsTable(e,t),i);return n&&this.applyFormatters(a,n),a}}},{key:"getDataAsTable",value:function(e,t){return t?[t].concat(s(e)):e}},{key:"applyFormatters",value:function(e,t){var n,i=o(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.formatter.format(e,a.colIndex)}}catch(r){i.e(r)}finally{i.f()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Ee=function(){var e=function(){function e(t){u(this,e),this.loaderService=t,this.error=new m.vpe,this.ready=new m.vpe,this.stateChange=new m.vpe,this.id="_"+Math.random().toString(36).substr(2,9),this.wrapperReadySubject=new _e.t(1)}return g(e,[{key:"wrapperReady$",get:function(){return this.wrapperReadySubject.asObservable()}},{key:"controlWrapper",get:function(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}},{key:"ngOnInit",value:function(){var e=this;this.loaderService.loadChartPackages("controls").subscribe(function(){e.createControlWrapper()})}},{key:"ngOnChanges",value:function(e){!this._controlWrapper||(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options||{}),e.state&&this._controlWrapper.setState(this.state||{}))}},{key:"createControlWrapper",value:function(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}},{key:"addEventListeners",value:function(){var e=this;google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",function(t){return e.ready.emit(t)}),google.visualization.events.addListener(this._controlWrapper,"error",function(t){return e.error.emit(t)}),google.visualization.events.addListener(this._controlWrapper,"statechange",function(t){return e.stateChange.emit(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(Fe))},e.\u0275cmp=m.Xpm({type:e,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(e,t){2&e&&m.Ikx("id",t.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[m.TTD],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e}(),Ye=function(){var e=function(){function e(t,n,i){u(this,e),this.element=t,this.loaderService=n,this.dataTableService=i,this.ready=new m.vpe,this.error=new m.vpe,this.initialized=!1}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.loaderService.loadChartPackages("controls").subscribe(function(){e.dataTable=e.dataTableService.create(e.data,e.columns,e.formatters),e.createDashboard(),e.initialized=!0})}},{key:"ngOnChanges",value:function(e){!this.initialized||(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}},{key:"createDashboard",value:function(){var e=this,t=this.controlWrappers.map(function(e){return e.wrapperReady$}),n=this.controlWrappers.map(function(e){return e.for}).map(function(e){return Array.isArray(e)?(0,Me.a)(e.map(function(e){return e.wrapperReady$})):e.wrapperReady$});(0,Me.a)([].concat(s(t),s(n))).subscribe(function(){e.dashboard=new google.visualization.Dashboard(e.element.nativeElement),e.initializeBindings(),e.registerEvents(),e.dashboard.draw(e.dataTable)})}},{key:"registerEvents",value:function(){var e=this;google.visualization.events.removeAllListeners(this.dashboard);var t=function(e,t,n){google.visualization.events.addListener(e,t,n)};t(this.dashboard,"ready",function(){return e.ready.emit()}),t(this.dashboard,"error",function(t){return e.error.emit(t)})}},{key:"initializeBindings",value:function(){var e=this;this.controlWrappers.forEach(function(t){if(Array.isArray(t.for)){var n=t.for.map(function(e){return e.chartWrapper});e.dashboard.bind(t.controlWrapper,n)}else e.dashboard.bind(t.controlWrapper,t.for.chartWrapper)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.SBq),m.Y36(Fe),m.Y36(We))},e.\u0275cmp=m.Xpm({type:e,selectors:[["dashboard"]],contentQueries:function(e,t,n){var i;(1&e&&m.Suo(n,Ee,4),2&e)&&(m.iGM(i=m.CRH())&&(t.controlWrappers=i))},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[m.TTD],ngContentSelectors:Ze,decls:1,vars:0,template:function(e,t){1&e&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),e}(),ze=function(){var e=function(){function e(t,n,i,a){u(this,e),this.element=t,this.scriptLoaderService=n,this.dataTableService=i,this.dashboard=a,this.options={},this.dynamicResize=!1,this.ready=new m.vpe,this.error=new m.vpe,this.select=new m.vpe,this.mouseover=new m.vpe,this.mouseleave=new m.vpe,this.wrapperReadySubject=new _e.t(1),this.initialized=!1,this.eventListeners=new Map}return g(e,[{key:"chart",get:function(){return this.chartWrapper.getChart()}},{key:"wrapperReady$",get:function(){return this.wrapperReadySubject.asObservable()}},{key:"chartWrapper",get:function(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper},set:function(e){this.wrapper=e,this.drawChart()}},{key:"ngOnInit",value:function(){var e=this;this.scriptLoaderService.loadChartPackages(function(e){return Te[e]}(this.type)).subscribe(function(){e.dataTable=e.dataTableService.create(e.data,e.columns,e.formatters),e.wrapper=new google.visualization.ChartWrapper({container:e.element.nativeElement,chartType:e.type,dataTable:e.dataTable,options:e.mergeOptions()}),e.registerChartEvents(),e.wrapperReadySubject.next(e.wrapper),e.initialized=!0,e.drawChart()})}},{key:"ngOnChanges",value:function(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){var t=!1;(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),t=!0),e.type&&(this.wrapper.setChartType(this.type),t=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),t=!0),t&&this.drawChart()}}},{key:"ngOnDestroy",value:function(){this.unsubscribeToResizeIfSubscribed()}},{key:"addEventListener",value:function(e,t){var n=this.registerChartEvent(this.chart,e,t);return this.eventListeners.set(n,{eventName:e,callback:t,handle:n}),n}},{key:"removeEventListener",value:function(e){var t=this.eventListeners.get(e);t&&(google.visualization.events.removeListener(t.handle),this.eventListeners.delete(e))}},{key:"updateResizeListener",value:function(){var e=this;this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=(0,ke.R)(window,"resize",{passive:!0}).pipe((0,ye.b)(100)).subscribe(function(){e.initialized&&e.drawChart()}))}},{key:"unsubscribeToResizeIfSubscribed",value:function(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}},{key:"mergeOptions",value:function(){return Object.assign({title:this.title,width:this.width,height:this.height},this.options)}},{key:"registerChartEvents",value:function(){var e=this;google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",function(){google.visualization.events.removeAllListeners(e.chart),e.registerChartEvent(e.chart,"onmouseover",function(t){return e.mouseover.emit(t)}),e.registerChartEvent(e.chart,"onmouseout",function(t){return e.mouseleave.emit(t)}),e.registerChartEvent(e.chart,"select",function(){var t=e.chart.getSelection();e.select.emit({selection:t})}),e.eventListeners.forEach(function(t){return t.handle=e.registerChartEvent(e.chart,t.eventName,t.callback)}),e.ready.emit({chart:e.chart})}),this.registerChartEvent(this.wrapper,"error",function(t){return e.error.emit(t)})}},{key:"registerChartEvent",value:function(e,t,n){return google.visualization.events.addListener(e,t,n)}},{key:"drawChart",value:function(){null==this.dashboard&&this.wrapper.draw()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.SBq),m.Y36(Fe),m.Y36(We),m.Y36(Ye,8))},e.\u0275cmp=m.Xpm({type:e,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{options:"options",dynamicResize:"dynamicResize",type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",formatters:"formatters"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[m.TTD],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%] { width: fit-content; display: block; }"],changeDetection:0}),e}(),Je=function(){var e=function(){function e(){u(this,e)}return g(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:De,useValue:t}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({providers:[Fe]}),e}();function Ne(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ngx-charts-tree-map",2),m.NdJ("select",function(e){return m.CHM(n),m.oxw().onSelect(e)}),m.ALo(1,"async"),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("scheme",i.colorScheme)("valueFormatting",i.valueFormatting)("results",m.lcZ(1,3,i.chartData))}}function qe(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"google-chart",3),m.NdJ("resize",function(e){return m.CHM(n),m.oxw().onResize(e)},!1,m.Jf7)("select",function(e){return m.CHM(n),m.oxw().onSelect(e)}),m.ALo(1,"async"),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("type",i.TreeMap)("data",m.lcZ(1,4,i.myData))("columnNames",i.myColumnNames)("options",i.myOptions)}}var Re=function(){function e(t,n,i,a,r){var o=this;u(this,e),this._data=t,this._tools=n,this._router=i,this._store=a,this._holder=r,this.subs=new M.Y,this.ngOnDestroy=function(){return o.subs.unsubscribe()},this.colorScheme={domain:["#00bcd4","#ffb74d","#7e57c2","#039be5"]},this.TreeMap="TreeMap",this.myColumnNames=["Group","Parent","Tickets"],this.myOptions={minColor:"#48bd88",midColor:"#00938c",maxColor:"#007a93",headerHeight:0,highlightOnMouseOver:!1,fontFamily:"CorpoS"},this.valueFormatting=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},this.chartData=new f.X([]),this.myData=new f.X([]),this.ie=!1,this.config=this._store.selectSnapshot(function(e){return e.config}),this._holder.titles.next([this.config.system.titles.S3]),this.ie=this._tools.isIE()}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.subs.sink=this.tickets$.subscribe(function(t){for(var n in e.groups=e._tools.classifyByIndex(t.tickets,e.config.columns.service),e.groups)e.groups[n]=e.groups[n].length;var i=Object.keys(e.groups).map(function(t){return{name:t,value:e.groups[t]}});e.chartData.next(i),e.drawChart()})}},{key:"drawChart",value:function(){var e=[];for(var t in e.push(["Root Cause",null,0]),this.groups)e.push([t,"Root Cause",this.groups[t]]);this.myData.next(e)}},{key:"onResize",value:function(e){this.drawChart()}},{key:"onSelect",value:function(e){var t=Array.isArray(e)?this.myData.getValue()[e[0].row][0]:e.name;this._router.navigate(["tickets","service",t])}}]),e}();function je(e){return e<0?-1:1}function Xe(e,t,n){var i=e._x1-e._x0,a=t-e._x1,r=(e._y1-e._y0)/(i||a<0&&-0),o=(n-e._y1)/(a||i<0&&-0),s=(r*a+o*i)/(i+a);return(je(r)+je(o))*Math.min(Math.abs(r),Math.abs(o),.5*Math.abs(s))||0}function Be(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function He(e,t,n){var i=e._x0,a=e._x1,r=e._y1,o=(a-i)/3;e._context.bezierCurveTo(i+o,e._y0+o*t,a-o,r-o*n,a,r)}function Ie(e){this._context=e}function Ge(e){this._context=e}function Qe(e){return new Ie(e)}Re.\u0275fac=function(e){return new(e||Re)(m.Y36(me.D),m.Y36(M.G),m.Y36(p.F0),m.Y36(J.yh),m.Y36(C,1))},Re.\u0275cmp=m.Xpm({type:Re,selectors:[["cism-system-root-cause"]],decls:3,vars:2,consts:[[3,"scheme","valueFormatting","results","select",4,"ngIf","ngIfElse"],["ieTemplate",""],[3,"scheme","valueFormatting","results","select"],["id","googlechart",3,"type","data","columnNames","options","resize","select"]],template:function(e,t){if(1&e&&(m.YNc(0,Ne,2,5,"ngx-charts-tree-map",0),m.YNc(1,qe,2,6,"ng-template",null,1,m.W1O)),2&e){var n=m.MAs(2);m.Q6J("ngIf",!t.ie)("ngIfElse",n)}},directives:[d.O5,oe.tt,ze],pipes:[d.Ov],styles:["[_nghost-%COMP%]{display:block;height:270px}#gcharts[_ngcontent-%COMP%]{width:100%!important;height:100%!important;border:5px solid black!important}#googlechart[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:100%!important;height:100%!important;padding:0!important}[_nghost-%COMP%]  #googlechart>div>div:nth-child(1)>div>svg>g:nth-child(21)>rect{display:none}[_nghost-%COMP%]  #googlechart svg g rect{stroke:#151515;stroke-width:1px}"],changeDetection:0}),(0,_.gn)([(0,J.Ph)(q.gH),(0,_.w6)("design:type",N.y)],Re.prototype,"tickets$",void 0),Ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:He(this,this._t0,Be(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,He(this,Be(this,n=Xe(this,e,t)),n);break;default:He(this,this._t0,n=Xe(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},((function(e){this._context=new Ge(e)}).prototype=Object.create(Ie.prototype)).point=function(e,t){Ie.prototype.point.call(this,t,e)},Ge.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,a,r){this._context.bezierCurveTo(t,e,i,n,r,a)}};var Ue=c(44609),$e=c(8563),Ve=c(72203),Ke=["tooltipTemplate"],et=["seriesTooltipTemplate"];function tt(e,t){if(1&e){var n=m.EpF();m.O4$(),m.TgZ(0,"g",9),m.NdJ("dimensionsChanged",function(e){return m.CHM(n),m.oxw().updateXAxisHeight(e)}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("xScale",i.xScale)("dims",i.dims)("showLabel",i.showXAxisLabel)("labelText",i.xAxisLabel)("tickFormatting",i.xAxisTickFormatting)}}function nt(e,t){if(1&e){var n=m.EpF();m.O4$(),m.TgZ(0,"g",10),m.NdJ("dimensionsChanged",function(e){return m.CHM(n),m.oxw().updateYAxisWidth(e)}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("yScale",i.yScale)("dims",i.dims)("yOrient",i.yOrientLeft)("showGridLines",i.showGridLines)("showLabel",i.showYAxisLabel)("labelText",i.yAxisLabel)("tickFormatting",i.yAxisTickFormatting)}}function it(e,t){if(1&e){var n=m.EpF();m.O4$(),m.TgZ(0,"g",10),m.NdJ("dimensionsChanged",function(e){return m.CHM(n),m.oxw().updateYAxisWidth(e)}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("yScale",i.yScaleLine)("dims",i.dims)("yOrient",i.yOrientRight)("showGridLines",i.showGridLines)("showLabel",i.showRightYAxisLabel)("labelText",i.yAxisLabelRight)("tickFormatting",i.yRightAxisTickFormatting)}}function at(e,t){if(1&e&&(m.O4$(),m.TgZ(0,"g"),m._UZ(1,"g",11),m.qZA()),2&e){var n=t.$implicit,i=m.oxw();m.xp6(1),m.Q6J("xScale",i.xScaleLine)("yScale",i.yScaleLine)("colors",i.colorsLine)("data",n)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("animations",i.animations)}}function rt(e,t){if(1&e){var n=m.EpF();m.O4$(),m.TgZ(0,"g",12),m.NdJ("hover",function(e){return m.CHM(n),m.oxw().updateHoveredVertical(e)}),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("dims",i.dims)("xSet",i.xSet)("xScale",i.xScaleLine)("yScale",i.yScaleLine)("results",i.combinedSeries)("colors",i.colorsLine)("tooltipDisabled",i.tooltipDisabled)}}function ot(e,t){if(1&e){var n=m.EpF();m.O4$(),m.TgZ(0,"g"),m.TgZ(1,"g",13),m.NdJ("select",function(e){var t=m.CHM(n).$implicit;return m.oxw().onClick(e,t)})("activate",function(e){return m.CHM(n),m.oxw().onActivate(e)})("deactivate",function(e){return m.CHM(n),m.oxw().onDeactivate(e)}),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,a=m.oxw();m.xp6(1),m.Q6J("xScale",a.xScaleLine)("yScale",a.yScaleLine)("colors",a.colorsLine)("data",i)("scaleType",a.scaleType)("visibleValue",a.hoveredVertical)("activeEntries",a.activeEntries)("tooltipDisabled",a.tooltipDisabled)}}var st=function(e,t){return[e,t]},ct=function(){var t,a=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(c,t);var a=i(c);function c(){var e;return u(this,c),(e=a.apply(this,arguments)).curve=Qe,e.legend=!1,e.legendTitle="Legend",e.legendPosition=oe.tV.Right,e.tooltipDisabled=!0,e.showGridLines=!0,e.activeEntries=[],e.roundDomains=!1,e.animations=!0,e.noBarWhenZero=!0,e.activate=new m.vpe,e.deactivate=new m.vpe,e.margin=[10,20,10,20],e.xAxisHeight=0,e.yAxisWidth=0,e.scaleType="linear",e.yOrientLeft="left",e.yOrientRight="right",e.legendSpacing=0,e.barPadding=8,e}return g(c,[{key:"trackBy",value:function(e,t){return t.name}},{key:"update",value:function(){e(r(c.prototype),"update",this).call(this),this.dims=(0,oe.iG)({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.legendSpacing=this.yAxis?this.showYAxisLabel&&this.yAxis?100:40:0,this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.xDomainLine=this.getXDomainLine(),this.filteredDomain&&(this.xDomainLine=this.filteredDomain),this.yDomainLine=this.getYDomainLine(),this.seriesDomain=this.getSeriesDomain(),this.scaleLines(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform="translate(".concat(this.dims.xOffset," , ").concat(this.margin[0],")")}},{key:"deactivateAll",value:function(){this.activeEntries=s(this.activeEntries);var e,t=o(this.activeEntries);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.deactivate.emit({value:n,entries:[]})}}catch(i){t.e(i)}finally{t.f()}this.activeEntries=[]}},{key:"hideCircles",value:function(){this.hoveredVertical=null,this.deactivateAll()}},{key:"updateHoveredVertical",value:function(e){this.hoveredVertical=e.value,this.deactivateAll()}},{key:"updateDomain",value:function(e){this.filteredDomain=e,this.xDomainLine=this.filteredDomain,this.xScaleLine=this.getXScaleLine(this.xDomainLine,this.dims.width)}},{key:"scaleLines",value:function(){this.xScaleLine=this.getXScaleLine(this.xDomainLine,this.dims.width),this.yScaleLine=this.getYScaleLine(this.yDomainLine,this.dims.height)}},{key:"getSeriesDomain",value:function(){return this.combinedSeries=this.lineChart.slice(0),this.combinedSeries.push({name:this.yAxisLabel,series:this.results}),this.combinedSeries.map(function(e){return e.name})}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"getScaleType",value:function(e){var t,n=!0,i=!0,a=o(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;this.isDate(r)||(n=!1),"number"!=typeof r&&(i=!1)}}catch(s){a.e(s)}finally{a.f()}return n?"time":i?"linear":"ordinal"}},{key:"getXDomainLine",value:function(){var e,t=[],n=o(this.lineChart);try{for(n.s();!(e=n.n()).done;){var i,a=o(e.value.series);try{for(a.s();!(i=a.n()).done;){var r=i.value;t.includes(r.name)||t.push(r.name)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}this.scaleType=this.getScaleType(t);var c=[];return"time"===this.scaleType?c=[Math.min.apply(Math,s(t)),Math.max.apply(Math,s(t))]:"linear"===this.scaleType?(t=t.map(function(e){return Number(e)}),c=[Math.min.apply(Math,s(t)),Math.max.apply(Math,s(t))]):c=t,this.xSet=t,c}},{key:"getYDomainLine",value:function(){var e,t=[],n=o(this.lineChart);try{for(n.s();!(e=n.n()).done;){var i,a=o(e.value.series);try{for(a.s();!(i=a.n()).done;){var r=i.value;t.indexOf(r.value)<0&&t.push(r.value),void 0!==r.min&&t.indexOf(r.min)<0&&t.push(r.min),void 0!==r.max&&t.indexOf(r.max)<0&&t.push(r.max)}}catch(h){a.e(h)}finally{a.f()}}}catch(h){n.e(h)}finally{n.f()}var s=Math.min.apply(Math,t),c=Math.max.apply(Math,t);if(this.yRightAxisScaleFactor){var l=this.yRightAxisScaleFactor(s,c);return[Math.min(0,l.min),l.max]}return[s=Math.min(0,s),c]}},{key:"getXScaleLine",value:function(e,t){var n;void 0===this.bandwidth&&(this.bandwidth=t-this.barPadding);var i=Math.floor((t+this.barPadding-(this.bandwidth+this.barPadding)*e.length)/2);return"time"===this.scaleType?n=(0,Ue.Z)().range([0,t]).domain(e):"linear"===this.scaleType?(n=(0,$e.Z)().range([0,t]).domain(e),this.roundDomains&&(n=n.nice())):"ordinal"===this.scaleType&&(n=(0,Ve.x)().range([i+this.bandwidth/2,t-i-this.bandwidth/2]).domain(e)),n}},{key:"getYScaleLine",value:function(e,t){var n=(0,$e.Z)().range([t,0]).domain(e);return this.roundDomains?n.nice():n}},{key:"getXScale",value:function(){this.xDomain=this.getXDomain();var e=this.xDomain.length/(this.dims.width/this.barPadding+1);return(0,Ve.Z)().range([0,this.dims.width]).paddingInner(e).domain(this.xDomain)}},{key:"getYScale",value:function(){this.yDomain=this.getYDomain();var e=(0,$e.Z)().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?e.nice():e}},{key:"getXDomain",value:function(){return this.results.map(function(e){return e.name})}},{key:"getYDomain",value:function(){var e=this.results.map(function(e){return e.value}),t=Math.min.apply(Math,[0].concat(s(e))),n=Math.max.apply(Math,s(e));if(this.yLeftAxisScaleFactor){var i=this.yLeftAxisScaleFactor(t,n);return[Math.min(0,i.min),i.max]}return[t,n]}},{key:"onClick",value:function(e){this.select.emit(e)}},{key:"setColors",value:function(){var e;e="ordinal"===this.schemeType?this.xDomain:this.yDomain,this.colors=new oe.vH(this.scheme,this.schemeType,e,this.customColors),this.colorsLine=new oe.vH(this.colorSchemeLine,this.schemeType,e,this.customColors)}},{key:"getLegendOptions",value:function(){var e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.seriesDomain,e.colors=this.colorsLine,e.title=this.legendTitle):(e.domain=this.seriesDomain,e.colors=this.colors.scale),e}},{key:"updateLineWidth",value:function(e){this.bandwidth=e,this.scaleLines()}},{key:"updateYAxisWidth",value:function(e){var t=e.width;this.yAxisWidth=t+20,this.update()}},{key:"updateXAxisHeight",value:function(e){var t=e.height;this.xAxisHeight=t,this.update()}},{key:"onActivate",value:function(e){this.activeEntries.findIndex(function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series})>-1||(this.activeEntries=[e].concat(s(this.activeEntries)),this.activate.emit({value:e,entries:this.activeEntries}))}},{key:"onDeactivate",value:function(e){var t=this.activeEntries.findIndex(function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series});this.activeEntries.splice(t,1),this.activeEntries=s(this.activeEntries),this.deactivate.emit({value:e,entries:this.activeEntries})}}]),c}(oe.ep);return a.\u0275fac=function(e){return(t||(t=m.n5z(a)))(e||a)},a.\u0275cmp=m.Xpm({type:a,selectors:[["combo-chart-component"]],contentQueries:function(e,t,n){var i;(1&e&&(m.Suo(n,Ke,5),m.Suo(n,et,5)),2&e)&&(m.iGM(i=m.CRH())&&(t.tooltipTemplate=i.first),m.iGM(i=m.CRH())&&(t.seriesTooltipTemplate=i.first))},viewQuery:function(e,t){var n;(1&e&&m.Gf(oe.Bk,5),2&e)&&(m.iGM(n=m.CRH())&&(t.lineSeriesComponent=n.first))},hostBindings:function(e,t){1&e&&m.NdJ("mouseleave",function(){return t.hideCircles()})},inputs:{curve:"curve",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",showRightYAxisLabel:"showRightYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",yAxisLabelRight:"yAxisLabelRight",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",yRightAxisTickFormatting:"yRightAxisTickFormatting",roundDomains:"roundDomains",colorSchemeLine:"colorSchemeLine",autoScale:"autoScale",lineChart:"lineChart",yLeftAxisScaleFactor:"yLeftAxisScaleFactor",yRightAxisScaleFactor:"yRightAxisScaleFactor",rangeFillOpacity:"rangeFillOpacity",animations:"animations",noBarWhenZero:"noBarWhenZero"},outputs:{activate:"activate",deactivate:"deactivate"},features:[m.qOj],decls:11,vars:27,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","tickFormatting","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","yOrient","showGridLines","showLabel","labelText","tickFormatting","dimensionsChanged",4,"ngIf"],["ngx-combo-charts-series-vertical","","tooltipDisabled","true",3,"xScale","yScale","colors","series","seriesLine","dims","gradient","activeEntries","animations","noBarWhenZero","activate","deactivate","bandwidth","select"],[1,"line-chart","chart"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","hover",4,"ngIf"],[4,"ngFor","ngForOf"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","tickFormatting","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","yOrient","showGridLines","showLabel","labelText","tickFormatting","dimensionsChanged"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","animations"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","hover"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","select","activate","deactivate"]],template:function(e,t){1&e&&(m.TgZ(0,"ngx-charts-chart",0),m.NdJ("legendLabelClick",function(e){return t.onClick(e)})("legendLabelActivate",function(e){return t.onActivate(e)})("legendLabelDeactivate",function(e){return t.onDeactivate(e)}),m.O4$(),m.TgZ(1,"g",1),m.YNc(2,tt,1,5,"g",2),m.YNc(3,nt,1,7,"g",3),m.YNc(4,it,1,7,"g",3),m.TgZ(5,"g",4),m.NdJ("activate",function(e){return t.onActivate(e)})("deactivate",function(e){return t.onDeactivate(e)})("bandwidth",function(e){return t.updateLineWidth(e)})("select",function(e){return t.onClick(e)}),m.qZA(),m.qZA(),m.TgZ(6,"g",5),m.TgZ(7,"g"),m.YNc(8,at,2,9,"g",6),m.YNc(9,rt,1,7,"g",7),m.YNc(10,ot,2,8,"g",8),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.Q6J("view",m.WLB(24,st,t.width+t.legendSpacing,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),m.xp6(1),m.uIk("transform",t.transform),m.xp6(1),m.Q6J("ngIf",t.xAxis),m.xp6(1),m.Q6J("ngIf",t.yAxis),m.xp6(1),m.Q6J("ngIf",t.yAxis),m.xp6(1),m.Q6J("xScale",t.xScale)("yScale",t.yScale)("colors",t.colors)("series",t.results)("seriesLine",t.lineChart)("dims",t.dims)("gradient",t.gradient)("activeEntries",t.activeEntries)("animations",t.animations)("noBarWhenZero",t.noBarWhenZero),m.xp6(1),m.uIk("transform",t.transform),m.xp6(2),m.Q6J("ngForOf",t.lineChart)("ngForTrackBy",t.trackBy),m.xp6(1),m.Q6J("ngIf",!t.tooltipDisabled),m.xp6(1),m.Q6J("ngForOf",t.lineChart))},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:normal}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}\n"],encapsulation:2}),a}(),lt=function(){function e(t,n,i){var a=this;u(this,e),this._data=t,this._store=n,this._holder=i,this.subs=new M.Y,this.ngOnDestroy=function(){return a.subs.unsubscribe()},this.chartData=new f.X([]),this.seriesData=new f.X([]),this.showXAxis=!0,this.showYAxis=!0,this.showLegend=!0,this.showXAxisLabel=!0,this.innerPadding="10%",this.animations=!0,this.lineChartScheme={name:"coolthree",selectable:!0,group:"Ordinal",domain:["#ffb74d"]},this.comboBarScheme={name:"singleLightBlue",selectable:!0,group:"Ordinal",domain:["#00bcd4"]},this.config=this._store.selectSnapshot(function(e){return e.config}),this._holder.titles.next([this.config.system.titles.S4])}return g(e,[{key:"ngOnInit",value:function(){var e=this;this.subs.sink=this.csvdata$.subscribe(function(t){var n=[],i=[],a=[];for(var r in t)a.push({name:t[r][1],value:t[r][3]}),i.push({name:t[r][1],value:t[r][2]});n.push(i),n.push([{name:"Average Silt",series:a}]),e.chartData.next(n[0]),e.seriesData.next(n[1])})}}]),e}();lt.\u0275fac=function(e){return new(e||lt)(m.Y36(me.D),m.Y36(J.yh),m.Y36(C,1))},lt.\u0275cmp=m.Xpm({type:lt,selectors:[["cism-system-performance"]],decls:3,vars:11,consts:[[3,"scheme","colorSchemeLine","results","lineChart","showGridLines","xAxis","yAxis"]],template:function(e,t){1&e&&(m._UZ(0,"combo-chart-component",0),m.ALo(1,"async"),m.ALo(2,"async")),2&e&&m.Q6J("scheme",t.comboBarScheme)("colorSchemeLine",t.lineChartScheme)("results",m.lcZ(1,7,t.chartData))("lineChart",m.lcZ(2,9,t.seriesData))("showGridLines",!1)("xAxis",t.showXAxis)("yAxis",t.showYAxis)},directives:[ct],pipes:[d.Ov],styles:["[_nghost-%COMP%]  ngx-charts-chart .line-chart.chart g.line-series path{stroke-width:3px}[_nghost-%COMP%]  [ngx-combo-charts-series-vertical]{opacity:.5!important}[_nghost-%COMP%]{display:block;height:270px;padding-right:15px}"],changeDetection:0}),(0,_.gn)([(0,J.Ph)(q.gH.Section4),(0,_.w6)("design:type",N.y)],lt.prototype,"csvdata$",void 0);var ht=c(34689),ut=c(42687),dt=function(){var e=function(){function e(t,n,i){u(this,e),this._tools=t,this._store=n,this._holder=i,this.chartData=new f.X([]),this.colorScheme={domain:["#00bcd4","lightgrey","#ffb74d","#7e57c2","#039be5"]},this.config=this._store.selectSnapshot(function(e){return e.config}),this._holder.titles.next([this.config.system.titles.S5])}return g(e,[{key:"ngOnDestroy",value:function(){this.titleChangeSub&&this.titleChangeSub.unsubscribe()}},{key:"ngOnInit",value:function(){var e=this;this.titleChangeSub=this._holder.click.pipe((0,ut.x)(),(0,ht.h)(function(t){return null!=t&&t.titles[0]==e.config.system.titles.S5})).subscribe(function(t){switch(t.indexClicked){case 0:e.changeData(),e._holder.titles.next([e.config.system.titles.S5]);break;case 1:e.changeData({series:t.nameClicked,extra:{drill:2,service:t.nameClicked}}),e._holder.titles.next([e.config.system.titles.S5,t.nameClicked])}}),this.changeData()}},{key:"changeData",value:function(e){var t=this,n=e?e.extra.drill:1;if(n>=1&&n<=3){var i=this._store.selectSnapshot(q.gH.Section5);if(void 0!==e?(i=i.filter(function(t){return t[7]==e.extra.service}),3==n&&(i=i.filter(function(t){return t[8]==e.series})),i=this._tools.classifyByIndex(i,2==n?this.config.columns.external:this.config.columns.classification)):i=this._tools.classifyByIndex(i,this.config.columns.description),void 0!==e)switch(n){case 2:this._holder.titles.next([this.config.system.titles.S5,e.extra.service]);break;case 3:this._holder.titles.next(this._holder.titles.getValue().concat([e.series]))}var a=Object.keys(i).map(function(a){var r=t._tools.sumByIndex(i[a],2),o=t._tools.sumByIndex(i[a],3),s=t._tools.sumByIndex(i[a],4),c=t._tools.sumByIndex(i[a],5),l={drill:void 0!==e?n+1:2,service:void 0!==e?e.extra.service:a};return{name:a,series:[{name:"Incident",value:r,extra:l},{name:"",value:"",extra:l},{name:"WIP",value:o,extra:l},{name:"Sleep",value:s,extra:l},{name:"Assigned",value:c,extra:l}]}});this.chartData.next(a),this._scroller.bars.next(a.length),this._scroller.barsWidth.next(100)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(M.G),m.Y36(J.yh),m.Y36(C,1))},e.\u0275cmp=m.Xpm({type:e,selectors:[["cism-overview-management"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(G,7),2&e)&&(m.iGM(n=m.CRH())&&(t._scroller=n.first))},features:[m._Bn([G])],decls:4,vars:9,consts:[[1,"groupedbarcontainer"],[3,"results","xAxis","yAxis","scheme","barPadding","showGridLines","groupPadding","select"]],template:function(e,t){1&e&&(m.TgZ(0,"cism-system-scroller"),m.TgZ(1,"div",0),m.TgZ(2,"ngx-charts-bar-vertical-2d",1),m.NdJ("select",function(e){return t.changeData(e)}),m.ALo(3,"async"),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("results",m.lcZ(3,7,t.chartData))("xAxis",!0)("yAxis",!0)("scheme",t.colorScheme)("barPadding",3)("showGridLines",!1)("groupPadding",15))},directives:[G,oe.H5],pipes:[d.Ov],styles:["[_nghost-%COMP%]{display:block;height:100%}  .ngx-charts text{fill:rgba(255,255,255,.6)!important}.groupedbarcontainer[_ngcontent-%COMP%]{height:200px}"],changeDetection:0}),e}(),gt=function(){var e=g(function e(){u(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["cism-system-wrapper"]],decls:10,vars:0,template:function(e,t){1&e&&(m.TgZ(0,"cism-system-graphic-holder"),m._UZ(1,"cism-system-availability"),m.qZA(),m.TgZ(2,"cism-system-graphic-holder"),m._UZ(3,"cism-system-robustness"),m.qZA(),m.TgZ(4,"cism-system-graphic-holder"),m._UZ(5,"cism-system-root-cause"),m.qZA(),m.TgZ(6,"cism-system-graphic-holder"),m._UZ(7,"cism-system-performance"),m.qZA(),m.TgZ(8,"cism-system-graphic-holder"),m._UZ(9,"cism-overview-management"),m.qZA())},directives:[C,pe,be,Re,lt,dt],styles:['[_nghost-%COMP%]{display:-ms-flexbox;display:flex;margin-bottom:50px;-ms-flex-wrap:wrap;flex-wrap:wrap}@media (max-width: 1200px){cism-system-graphic-holder[_ngcontent-%COMP%]:nth-child(2n+2){background-color:rgba(255,255,255,.04)}}@media (min-width: 1200px){cism-system-graphic-holder[_ngcontent-%COMP%]{-ms-flex:1 50%;flex:1 50%;max-width:50%}cism-system-graphic-holder[_ngcontent-%COMP%]:nth-child(2n+1):after{position:absolute;content:"";right:0;height:80%;top:0;bottom:0;margin:auto;width:1px;background-color:rgba(255,255,255,.05)}cism-system-graphic-holder[_ngcontent-%COMP%]:nth-child(4n+3), cism-system-graphic-holder[_ngcontent-%COMP%]:nth-child(4n+4){background-color:rgba(255,255,255,.04)}cism-system-graphic-holder[_ngcontent-%COMP%]:last-child{-ms-flex:1 100%;flex:1 100%;max-width:100%}}'],changeDetection:0}),e}(),pt=c(95601),mt=c(17238),ft=["ngx-combo-charts-series-vertical",""];function yt(e,t){if(1&e){var n=m.EpF();m.O4$(),m.TgZ(0,"g",1),m.NdJ("select",function(e){return m.CHM(n),m.oxw().onClick(e)})("activate",function(e){return m.CHM(n),m.oxw().activate.emit(e)})("deactivate",function(e){return m.CHM(n),m.oxw().deactivate.emit(e)}),m.qZA()}if(2&e){var i=t.$implicit,a=m.oxw();m.Q6J("@animationState","active")("width",i.width)("height",i.height)("x",i.x)("y",i.y)("fill",i.color)("stops",i.gradientStops)("data",i.data)("orientation","vertical")("roundEdges",i.roundEdges)("gradient",a.gradient)("isActive",a.isActive(i.data))("animations",a.animations)("noBarWhenZero",a.noBarWhenZero)("tooltipDisabled",a.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",i.tooltipText)}}var vt=function(){var e=function(){function e(){u(this,e),this.type="standard",this.tooltipDisabled=!0,this.animations=!0,this.noBarWhenZero=!0,this.select=new m.vpe,this.activate=new m.vpe,this.deactivate=new m.vpe,this.bandwidth=new m.vpe}return g(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){var e,t=this;this.series.length&&(e=this.xScale.bandwidth(),this.bandwidth.emit(e));var n,i=0;"normalized"===this.type&&(n=this.series.map(function(e){return e.value}).reduce(function(e,t){return e+t},0)),this.bars=this.series.map(function(a,r){var o=a.value,s=a.name,c=(0,oe.N4)(s),l={value:o,label:s,roundEdges:"standard"===t.type,data:a,width:e,formattedLabel:c,height:0,x:0,y:0};if("standard"===t.type)l.height=Math.abs(t.yScale(o)-t.yScale(0)),l.x=t.xScale(s),l.y=t.yScale(o<0?0:o);else if("stacked"===t.type){var h=i,u=h+o;i+=o,l.height=t.yScale(h)-t.yScale(u),l.x=0,l.y=t.yScale(u),l.offset0=h,l.offset1=u}else if("normalized"===t.type){var d=i,g=d+o;i+=o,n>0?(d=100*d/n,g=100*g/n):(d=0,g=0),l.height=t.yScale(d)-t.yScale(g),l.x=0,l.y=t.yScale(g),l.offset0=d,l.offset1=g,o=(g-d).toFixed(2)+"%"}"ordinal"===t.colors.scaleType?l.color=t.colors.getColor(s):"standard"===t.type?(l.color=t.colors.getColor(o),l.gradientStops=t.colors.getLinearGradientStops(o)):(l.color=t.colors.getColor(l.offset1),l.gradientStops=t.colors.getLinearGradientStops(l.offset1,l.offset0));var p=c;t.seriesName&&(p="".concat(t.seriesName," \u2022 ").concat(c)),t.getSeriesTooltips(t.seriesLine,r);var m=t.seriesLine[0].series[r].value;return l.tooltipText='\n          <span class="tooltip-label">'.concat(p,'</span>\n          <span class="tooltip-val"> Y1 - ').concat(o.toLocaleString()," \u2022 Y2 - ").concat(m.toLocaleString(),"%</span>\n        "),l})}},{key:"getSeriesTooltips",value:function(e,t){return e.map(function(e){return e.series[t]})}},{key:"isActive",value:function(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(function(t){return e.name===t.name&&e.series===t.series})}},{key:"onClick",value:function(e){this.select.emit(e)}},{key:"trackBy",value:function(e,t){return t.label}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["g","ngx-combo-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",seriesLine:"seriesLine",xScale:"xScale",yScale:"yScale",colors:"colors",tooltipDisabled:"tooltipDisabled",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",animations:"animations",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",bandwidth:"bandwidth"},features:[m.TTD],attrs:ft,decls:1,vars:2,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","animations","noBarWhenZero","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","animations","noBarWhenZero","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","select","activate","deactivate"]],template:function(e,t){1&e&&m.YNc(0,yt,1,18,"g",0),2&e&&m.Q6J("ngForOf",t.bars)("ngForTrackBy",t.trackBy)},directives:[d.sg,oe.R2,oe.i9],encapsulation:2,data:{animation:[(0,mt.X$)("animationState",[(0,mt.eR)("* => void",[(0,mt.oB)({opacity:1,transform:"*"}),(0,mt.jt)(500,(0,mt.oB)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),e}(),xt=[{path:"",pathMatch:"prefix",component:gt}],bt=function(){var e=g(function e(){u(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[p.Bz.forChild(xt),pt.m,d.ez,J.$l.forFeature([ve.ZP,q.gH]),Je.forRoot()]]}),e}();m.B6R(ct,[oe.xH,d.O5,oe.IL,oe.Mq,vt,d.sg,oe.Bk,oe.sG,oe.gv],[])}}])}();